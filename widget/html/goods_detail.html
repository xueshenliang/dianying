<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>播放</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../css/mui.css"/>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../css/heard.css"/>

    <script type="text/javascript" src="../script/api.js"></script>
    <script type="text/javascript" src="../script/min.js"></script>
    <script type="text/javascript" src="../script/jq.min.js"></script>
    <script type="text/javascript" src="../script/vue.min.js"></script>
    <style>
        .empty {
            text-align: center;
            padding: 120px 0;
        }

        /* 头部导航样式 */
        .swiper-slide img {
            width: 100%;
        }

        body {
            background-color: #fff;
        }

    </style>
</head>
<body>
<!--顶部标题栏-->
<div class="header" id="topbar">
    <div class="left" tapmode onclick="goback()">
        <img src="../image/fhui.png" alt="" class="logoleft">
    </div>
    <div class="t">
        <span class="title">商品详情</span>
    </div>
</div>

<!--内容区-->
<div class="cont" id="cont">


</div>


</body>
<script type="text/javascript">
    var url = '';
    apiready = function () {
        url = api.pageParam['url'];
        getUrl(url);
    };

    //https://m.yiybb.com/  一层一层往下找，就能看见加密的串，网站视频的解密方法
    var StrHtml;
    function ____e() {
        return "0123456789,ABCDEFG,HIJKLMN,OPQRST,UVWXYZ,abcdefg,hijklmn,opqrst,uvwxyz"
    }
    function ____d() {
        return "4560123987,GFEDCBA,MHIJLNK,PQRSTO,ZUVWXY,gfedcba,mhijlnk,pqrsto,zuvwxy"
    }
    function set_code(s, en, isN) {
        var e_s = en ? ____e() : ____d(), d_s = en ? ____d() : ____e(), str = "";
        e_s = isN ? e_s.split(",")[0] : e_s, d_s = isN ? d_s.split(",")[0] : d_s;
        for (var i = 0; i < s.length; i++) {
            n = -1;
            n = e_s.indexOf(s.charAt(i));
            if (n != -1) {
                str += d_s.charAt(n)
            } else {
                str += s.charAt(i)
            }
        }
        return str
    }

    function getUrl(first_url) {
        var url = set_code(unescape(first_url, 0, 0));
        var Str_url = "http://m.yiybb.com/ck/ck.html?" + url + "|";
//        window.open(StrHtml);

        alert(Str_url);


        var moviePlayer = api.require('moviePlayer');
        moviePlayer.open({
            rect:{
                x: 0,
                y: 0,
                w:api.frameWidth,
                h:300
            },
            styles:{
                head:{
                    bg: 'rgba(161,161,161,0.5)',
                    height: 44,
                    y:20,
                    title:{
                        size:20,
                        color:'#fff',
                        width:40,
                        leftMargin:10
                    },
                    backSize: 30,
                    backImg:'widget://image/back.png',
                    customButtons:[{
                        w:30,
                        h:30,
                        rightMagin:10,
                        img:'widget://image/image/collect.png',
                        imgSelected:'fs://image/collectSelected.png',
                    }]},
                foot:{
                    bg: 'rgba(0,0,0,0.5)',
                    height: 44,
                    palyBtn:{
                        size: 20,
                        playImg:'widget://image/play.png',
                        pauseImg:'widget://image/pause.png',
                        marginLeft:5
                    },
                    currentTimeLabel:{
                        textSize:14,
                        textColor:"#FFF",
                        textWidth: 43,
                        marginLeft:5
                    },
                    seekBar:{
                        sliderImg:'widget://image/circle.png',
                        sliderW : 20,
                        sliderH : 20,
                        progressColor: '#696969',
                        progressSelected: '#76EE00',
                        marginLeft:10,
                        marginRight:10
                    },
                    totalTimeLabel:{
                        textSize:14,
                        textColor:"#FFF",
                        textWidth: 43,
                        marginRight:5
                    },
                    fullscreenBtn:{
                        size:20,
                        verticalImg:'widget://image/vertical.png',
                        horizontalImg:'widget://image/horizontal.png'
                    }
                } },
            path:Str_url,
            autoPlay: true
        },function(ret, err){
            if(ret){
                // alert(JSON.stringify(ret));
                // } else {
                // alert(JSON.stringify(err));
            }

        });

    }


    function goback() {
        api.closeFrame({name: 'goods_detail'});
    }

</script>
</html>